{% extends 'management/base.html' %}

{% block content %}
  <section class="py-5">
    <div class="container">
      <h1 class="display-4 text-center mb-5">Recolhimentos</h1>
      <div class="row justify-content-center">
        <div class="col-lg-4">
          <a href="{% url 'alocacoes_abertas' %}" class="btn btn-primary btn-block rounded-pill"><i class="fas fa-plus mr-2"></i> CADASTRAR RECOLHIMENTO</a>
        </div>
        <div class="col-lg-3">
          <a href="{% url 'procurar_por_tipo_recolhimento' %}" class="btn btn-success btn-block rounded-pill"><i class="fas fa-search mr-2"></i> PROCURAR POR TIPO</a>
        </div>
      </div>

      <div class="row justify-content-center mt-4">
        {% if recolhimentos %}
          <div class="table-responsive" id="tabela-colaboracao">
            <table class="table table-hover">
              <thead class="thead-dark">
                <tr>
                  <th scope="col" class="text-center">#</th>
                  <th scope="col" class="text-center">Data</th>
                  <th scope="col" class="text-center">Hor√°rio</th>
                  <th scope="col" class="text-center">Item</th>
                  <th scope="col" class="text-center">Cadastrador</th>
                  <th scope="col" class="text-center"></th>
                </tr>
              </thead>

              <tbody>
                {% for recolhimento in recolhimentos %}
                  <tr>
                    <th scope="row" class="text-center py-4">{{ recolhimento.id }}</th>
                    <th scope="row" class="text-center py-4">{{ recolhimento.data|date:'d/m/Y' }}</th>
                    <th scope="row" class="text-center py-4">{{ recolhimento.horario|date:'H:i' }}</th>
                    <th scope="row" class="text-center py-4">{{ recolhimento.alocacao.item }}</th>
                    <th scope="row" class="text-center py-4"><span style="text-transform: capitalize;">{{ recolhimento.cadastrador }}</span></th>
                    <th scope="row" class="text-center py-3"><a href="{% url 'detalhe_recolhimento' recolhimento.id %}" class="btn btn-outline-primary">Detalhes</a></th>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        {% else %}
          <h2 class="text-center text-secondary">Nenhum recolhimento cadastrado</h2>
        {% endif %}
      </div>
    </div>
  </section>
{% endblock %}
