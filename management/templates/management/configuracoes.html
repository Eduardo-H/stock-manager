{% extends 'management/base.html' %}

{% block content %}
  <section class="py-5">
    <div class="container">
      <h1 class="display-4 text-center mb-5">Configurações</h1>
      <div class="row justify-content-center">
        <div class="col-lg-6">
          {% if mensagem %}
            <div class="alert alert-success text-center">
              <h3 class="mb-0">{{ mensagem }}</h3>
            </div>
          {% elif mensagem_erro %}
          <div class="alert alert-danger text-center">
            <h3 class="mb-0">{{ mensagem_erro }}</h3>
          </div>
          {% endif %}

          <p class="lead"><strong>Usuário:</strong> {{ user.username }}</p>
          <div class="d-flex justify-content-center">
            <a href="#" data-toggle="modal" data-target="#cadastrar-usuario-modal" class="btn btn-primary mr-4 px-4 btn-config">
              <i class="fas fa-user-plus mr-2"></i> CADASTRAR NOVO USUÁRIO
            </a>
            <a href="#" data-toggle="modal" data-target="#mudar-senha-modal" class="btn btn-warning px-4 alocacao-btn btn-config">
              <i class="fas fa-lock mr-2"></i> MUDAR SENHA
            </a>
          </div>

          <!-- Modal para a criação de um novo usuário -->
          <div class="modal fade text-dark" id="cadastrar-usuario-modal">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Cadastrar Novo Usuário</h5>
                  <button class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                  <div class="container-fluid">
                    <form method="POST" autocomplete="off">
                      {% csrf_token %}
                      <div class="row justify-content-center">
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="usuario">Usuário</label>
                            <div class="input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                              </div>
                              <input type="text" class="form-control" name="usuario" placeholder="Digite o nome de usuário" required>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="password1">Senha</label>
                            <div class="input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                              </div>
                              <input type="password" class="form-control" name="password1" placeholder="Digite a senha" required>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="password2">Confirme sua senha</label>
                            <div class="input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                              </div>
                              <input type="password" class="form-control" name="password2" placeholder="Digite a senha novamente" required>
                            </div>
                          </div>
                        </div>
                      </div>
                      <hr>
                      <div class="d-flex justify-content-end">
                        <button class="btn btn-danger mt-2 mr-3" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary mt-2">Cadastrar</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Modal para a criação de um novo usuário -->
          <div class="modal fade text-dark" id="mudar-senha-modal">
            <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title">Mudar Senha</h5>
                  <button class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                  <div class="container-fluid">
                    <form method="POST" autocomplete="off">
                      {% csrf_token %}
                      <div class="row justify-content-center">
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="senha-atual">Senha atual</label>
                            <div class="input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                              </div>
                              <input type="password" class="form-control" name="senha-atual" placeholder="Digite a senha atual" required>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="password1">Nova senha</label>
                            <div class="input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                              </div>
                              <input type="password" class="form-control" name="password1" placeholder="Digite a nova senha" required>
                            </div>
                          </div>
                        </div>
                        <div class="col-lg-12">
                          <div class="form-group">
                            <label for="password2">Confirme sua nova senha</label>
                            <div class="input-group">
                              <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                              </div>
                              <input type="password" class="form-control" name="password2" placeholder="Digite a nova senha novamente" required>
                            </div>
                          </div>
                        </div>
                      </div>
                      <hr>
                      <div class="d-flex justify-content-end">
                        <button class="btn btn-danger mt-2 mr-3" data-dismiss="modal">Cancelar</button>
                        <button type="submit" class="btn btn-primary mt-2">Salvar</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>
{% endblock %}
